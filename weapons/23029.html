
    <!DOCTYPE html>
    <html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../dark.css">
        <title>Those Many Springs</title>
        
    <script>
    function updateRefinements(weaponId, level) {
        var refinementDataElement = document.getElementById(weaponId + '_data');
        var stats = refinementDataElement.getAttribute('data-level' + level);
        
        var statsArray = stats.split(',').map(stat => parseFloat(stat.trim()));
        
        var refinementsElement = document.getElementById(weaponId + '_refinements');
        var originalDescription = refinementsElement.getAttribute('data-original-description');
        
        statsArray.forEach((stat, index) => {
            var placeholderRegExp = new RegExp(`#${index + 1}\\[([if1]+)\\](%?)`, 'g');

            originalDescription = originalDescription.replace(placeholderRegExp, (match, p1, p2) => {
                var formattedStat = stat;
                console.log('Processing placeholder:', match, 'with stat:', stat, 'and format:', p1, 'percentage sign:', p2);
            
                if (p2 === '%') {
                    formattedStat = (stat * 100).toFixed(stat < 0.01 ? 2 : 0) + '%';
                } else {
                    if (stat % 1 !== 0) {
                        formattedStat = stat.toFixed(stat % 1 !== 0 ? 2 : 0);
                    }
                }
                console.log('Replacing placeholder:', match, 'with formatted stat:', formattedStat);
                return formattedStat;
            });
        });

        refinementsElement.innerHTML = originalDescription;
    }
    function initializeSkills() {
        var dropdowns = document.querySelectorAll('select[onchange^="updateRefinements"]');
        dropdowns.forEach(dropdown => {
            dropdown.value = 1;
            dropdown.dispatchEvent(new Event('change'));
        });
    }
    </script>

    </head>
    <body onload="initializeSkills()">
        <noscript>
It seems like you have JavaScript disabled, or your browser does not support it.<br>
I am sorry but this website cannot function normally without it :)
</noscript>
<h1 style="margin-bottom:0px">robinwings</h1><small>Some scalings are in decimals instead of percentage :)</small><hr>
<div style="margin-top:20px; margin-bottom:10px">
  <a class="button-link" style="text-decoration: none;" href='../avatar.html'">Character</a>  <a class="button-link" style="text-decoration: none;" href='../weapons.html'">Lightcone</a>  <a class="button-link" style="text-decoration: none;" href='../relics.html'">Relic Set</a>  </div>
        
        <h1>Those Many Springs</h1>
        <p><strong>ID:</strong> 23029<br>
           <strong>Rarity:</strong> 5*<br>
           <strong>Path:</strong> Nihility<br></p>

        <h2>Stats</h2>
        <ul>
            <li><strong>Max HP:</strong> 953.00</li>
            <li><strong>Max ATK:</strong> 582.00</li>
            <li><strong>Max DEF:</strong> 529.00</li>
        </ul>

        <h2>Ability</h2>
        <ul>
            <li>
                <strong>Superimposition:</strong> 
                <select onchange="updateRefinements('23029', this.value)">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
                <div id="23029_refinements" data-original-description="Increases the wearer's Effect Hit Rate by <b><unbreak>#1[i]%</unbreak></b>. After the wearer uses Basic ATK, Skill, or Ultimate to attack an enemy target, there is a <unbreak>#2[i]%</unbreak> base chance to inflict "Unarmored" on the target. While in the Unarmored state, the enemy target receives <b><unbreak>#3[i]%</unbreak></b> increased DMG, lasting for <unbreak>#4[i]</unbreak> turn(s). If the target is under a DoT state inflicted by the wearer, there is a <unbreak>#5[i]%</unbreak> base chance to upgrade the "Unarmored" state inflicted by the wearer to the "Cornered" state, which additionally increases the DMG the enemy target receives by <b><unbreak>#6[i]%</unbreak></b>, lasting for <unbreak>#4[i]</unbreak> turn(s). During this period, the wearer cannot inflict "Unarmored" on the target.">
                    Increases the wearer's Effect Hit Rate by <b><unbreak>#1[i]%</unbreak></b>. After the wearer uses Basic ATK, Skill, or Ultimate to attack an enemy target, there is a <unbreak>#2[i]%</unbreak> base chance to inflict "Unarmored" on the target. While in the Unarmored state, the enemy target receives <b><unbreak>#3[i]%</unbreak></b> increased DMG, lasting for <unbreak>#4[i]</unbreak> turn(s). If the target is under a DoT state inflicted by the wearer, there is a <unbreak>#5[i]%</unbreak> base chance to upgrade the "Unarmored" state inflicted by the wearer to the "Cornered" state, which additionally increases the DMG the enemy target receives by <b><unbreak>#6[i]%</unbreak></b>, lasting for <unbreak>#4[i]</unbreak> turn(s). During this period, the wearer cannot inflict "Unarmored" on the target.
                </div>
                <div id="23029_data" style="display:none;" data-level1="0.6, 0.6, 0.1, 2, 0.6, 0.14" data-level2="0.7, 0.6, 0.12, 2, 0.6, 0.16" data-level3="0.8, 0.6, 0.14, 2, 0.6, 0.18" data-level4="0.9, 0.6, 0.16, 2, 0.6, 0.2" data-level5="1, 0.6, 0.18, 2, 0.6, 0.22" data-levelid="2, 3, 0, 2, 9" >
                </div>
            </li>
        </ul>
        <h2>Ascension Materials</h2>
        <table>
            <tr>
                <th>Material</th>
                <th>Amount</th>
            </tr>
            <tr>
                <td style='display: flex; align-items: center;'>
                    <img style='height: 38px; width: auto; margin-right: 1rem;' src='https://raw.githubusercontent.com/FortOfFans/HSR/main/spriteoutput/itemfigures/2.png' />
                    Credit
                </td>
                <td>385000</td>
            </tr>
            <tr>
                <td style='display: flex; align-items: center;'>
                    <img style='height: 38px; width: auto; margin-right: 1rem;' src='https://raw.githubusercontent.com/FortOfFans/HSR/main/spriteoutput/itemfigures/110221.png' />
                    Fiery Spirit
                </td>
                <td>4</td>
            </tr>
            <tr>
                <td style='display: flex; align-items: center;'>
                    <img style='height: 38px; width: auto; margin-right: 1rem;' src='https://raw.githubusercontent.com/FortOfFans/HSR/main/spriteoutput/itemfigures/110222.png' />
                    Starfire Essence
                </td>
                <td>12</td>
            </tr>
            <tr>
                <td style='display: flex; align-items: center;'>
                    <img style='height: 38px; width: auto; margin-right: 1rem;' src='https://raw.githubusercontent.com/FortOfFans/HSR/main/spriteoutput/itemfigures/110223.png' />
                    Heaven Incinerator
                </td>
                <td>15</td>
            </tr>
            <tr>
                <td style='display: flex; align-items: center;'>
                    <img style='height: 38px; width: auto; margin-right: 1rem;' src='https://raw.githubusercontent.com/FortOfFans/HSR/main/spriteoutput/itemfigures/113001.png' />
                    Immortal Scionette
                </td>
                <td>20</td>
            </tr>
            <tr>
                <td style='display: flex; align-items: center;'>
                    <img style='height: 38px; width: auto; margin-right: 1rem;' src='https://raw.githubusercontent.com/FortOfFans/HSR/main/spriteoutput/itemfigures/113002.png' />
                    Immortal Aeroblossom
                </td>
                <td>20</td>
            </tr>
            <tr>
                <td style='display: flex; align-items: center;'>
                    <img style='height: 38px; width: auto; margin-right: 1rem;' src='https://raw.githubusercontent.com/FortOfFans/HSR/main/spriteoutput/itemfigures/113003.png' />
                    Immortal Lumintwig
                </td>
                <td>14</td>
            </tr>
    </body>
    </html>
    